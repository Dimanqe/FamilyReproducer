# Family Reproducer for Revit 2023

FamilyReproducer — это плагин для Autodesk Revit 2023, предназначенный для извлечения и воспроизведения информации из файлов семейств (`.rfa`). Он позволяет анализировать параметры, геометрию и размеры семейства, а также создавать на их основе новые семейства или конфигурации.

Функциональность

- Загрузка семейства из файла `.rfa`
- Извлечение параметров семейства (имя, тип, группа, значение и др.)
- Анализ геометрии элементов выдавливания:
- Направление и плоскость эскиза
- Смещения начала и конца экструдирования
- Сведения о профиле (линии, точки начала и конца)
- Извлечение размеров (Dimensions):
- Ссылки на элементы (ReferencePlane, Edge, Face)
- Название, значение и связанные метки

Технологии

- Язык: **C#**
- Фреймворк: **.NET Framework 4.8
- API: **Autodesk Revit API 2023**
- Архитектура: MVVM (Model-View-ViewModel)

Структура

- `Models/` — классы данных (`FamilyData`, `ParameterData`, `GeometryData` и др.)
- `Services/` — бизнес-логика для анализа семейств (`FamilyDataExtractor`)
- `ViewModels/` — ViewModel для взаимодействия с UI (`MainWindowViewModel`)
- `Handlers/` — реализация `IExternalEventHandler` для взаимодействия с Revit
- `UI/` — XAML-интерфейс (если есть)

Использование

1. Постройте проект в Visual Studio под **Revit 2023 API**.
2. Убедитесь, что все зависимости подключены (особенно `RevitAPI.dll` и `RevitAPIUI.dll` из папки Revit 2023).
3. Запустите Revit 2023.
4. Загрузите плагин с помощью `Addins` или вручную через `.addin` файл.
5. В UI выберите файл семейства `.rfa`.
6. Нажмите **Воспроизвести** для обработки и отображения результатов.

Зависимости

- Autodesk.RevitAPI.dll
- Autodesk.RevitAPIUI.dll
- Newtonsoft.Json.dll

Все зависимости должны соответствовать версии **Revit 2021+**.

Совместимость

| Версия Revit | Статус     |
|--------------|------------|
| 2023        | ✅ Поддерживается |
| 2023+        | ⚠️ Не тестировалось |
| <2021        | ❌ Не поддерживается |

Автор

Разработано в рамках пет-проекта по анализу Revit-семейств.  
Для вопросов и предложений: [d.sankeev@gmail.com]

